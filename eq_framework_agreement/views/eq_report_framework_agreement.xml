<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

		<template id="report_framework_agreement">
			<t t-call="report.external_layout">
				<div class="page">
					<div class="oe_structure" />
					<div class="row">
						<div class="col-xs-7 addressmargin">
							<div class="row col-xs-12 returnaddress">
								<h t-field="o.company_id.partner_id.name" />
								-
								<h t-field="o.company_id.partner_id.street" />
								-
								<h t-field="o.company_id.partner_id.zip" />
								<h t-field="o.company_id.partner_id.city" />
							</div>
							<div t-if="o.eq_customer_id.type != 'contact'">
								<div t-field="o.eq_customer_id.name" style="clear:left;" />
								<div t-field="o.eq_customer_id.street" />
								<div t-if="o.eq_customer_id.street2">
									<div t-field="o.eq_customer_id.street2" />
								</div>
								<h>
									<h t-field="o.eq_customer_id.zip" />
									<h t-field="o.eq_customer_id.city" />
								</h>
								<div t-field="o.eq_customer_id.country_id.name" />
							</div>
							<div t-if="o.eq_customer_id.type == 'contact'">
								<div t-field="o.eq_customer_id.parent_id.name" style="clear:left;" />
								<span t-field="o.eq_customer_id.title.name" />
								<span t-field="o.eq_customer_id.eq_firstname" style="clear:left;" />
								<span t-field="o.eq_customer_id.name" style="clear:left;" />
								<div t-field="o.eq_customer_id.street" />
								<div t-if="o.eq_customer_id.street2">
									<div t-field="o.eq_customer_id.street2" />
								</div>
								<h>
									<h t-field="o.eq_customer_id.zip" />
									<h t-field="o.eq_customer_id.city" />
								</h>
								<div t-field="o.eq_customer_id.country_id.name" />
							</div>
						</div>
						<div class="col-xs-5">
							<table style="width:100%;float:right;">
								<tbody>
									<tr>
										<td>
											<span>Customer no.</span>
										</td>
										<td class="text-right">
											<!-- span t-field="o.eq_ref" id="eq_customer_ref" -->
											<span t-field="o.eq_customer_id.eq_customer_ref" id="eq_customer_ref" />
										</td>
									</tr>
									<tr>
										<td>
											<span>Start date</span>
										</td>
										<td class="text-right">
											<span t-field="o.eq_start_date" />
										</td>
									</tr>
									<tr>
										<td>
											<span>End date</span>
										</td>
										<td class="text-right">
											<span t-field="o.eq_end_date" />
										</td>
									</tr>
									<tr>
										<td />
									</tr>
								</tbody>
							</table>
							<h style="line-height:3em" t-if="o.eq_contact_person_id">
								<strong>For further information, please contact</strong>
							</h>
							<table style="width:100%;" t-if="o.eq_contact_person_id">
								<tbody>
									<tr>
										<td>
											<span>Contact person</span>
										</td>
										<td class="text-right">
											<span t-field="o.eq_contact_person_id.name" />
										</td>
									</tr>
									<tr>
										<td>
											<span>Phone</span>
										</td>
										<td class="text-right">
											<span t-field="o.eq_contact_person_id.work_phone" />
										</td>
									</tr>
									<tr>
										<td>
											<span>E-Mail</span>
										</td>
										<td class="text-right">
											<span t-field="o.eq_contact_person_id.work_email" />
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<h2 style="margin-bottom:25px; margin-top:25px">
						<span>Confirmation</span>
						<br />
						<span>Frameworkagreement No. </span>
						<span t-field="o.eq_fa_number" />
					</h2>
					<p t-if="o.eq_info" style="margin-bottom:0.3cm!important;">
						<span t-field="o.eq_info" />
					</p>
					<table class="table table-condensed">
						<thead>
							<tr>
								<!-- <th><strong>Item no.</strong></th><th><strong>Item description</strong></th><th 
									class="text-right"><strong>Qty.</strong></th><th class="text-right"><strong>Unit</strong></th><th 
									class="text-right"><strong>Unit price</strong></th><th class="text-right"><strong>Net 
									price</strong></th> -->
								<th style="min-width:2.6cm;">
									<strong>Item no.</strong>
								</th>
								<th>
									<strong>Item description</strong>
								</th>
								<th class="text-right" style="min-width:1.8cm;">
									<strong>Qty.</strong>
								</th>
								<th class="text-right">
									<strong>Min. Purchase Quantity</strong>
								</th>
								<!-- <th class="text-right"> <strong>Ordered Quantity</strong> </th> -->
								<!-- <th class="text-right"> <strong>Quantity left</strong> </th> -->
								<th class="text-right">
									<strong>Unit price</strong>
								</th>
								<th class="text-right">
									<strong>Subtotal</strong>
								</th>
							</tr>
						</thead>
						<tbody class="sale_tbody">
							<tr t-foreach="o.eq_pos_ids" t-as="line">
								<td>
									<span t-field="line.eq_product_id.default_code" />
								</td>
								<td>
									<strong>
										<span t-field="line.eq_product_id.name" />
									</strong>
									<br />
									<span t-field="line.eq_product_id.description_sale" />
									<!-- Zeigt die Zeichnungsnummer der Produktvariante an -->
									<t id="eq_drawing_number" />
								</td>
								<td class="text-right">
									<span t-esc="get_qty(line.eq_quantity, o.eq_customer_id.lang)" />
									<span t-field="line.eq_product_id.uom_id.name" />
								</td>
								<td class="text-right">
									<span t-esc="get_qty(line.eq_min_purch_qua, o.eq_customer_id.lang)" />
									<span t-field="line.eq_product_id.uom_id.name" />
								</td>
								<!-- <td class="text-right"> <span t-esc="get_qty(line.eq_ordered_qua, 
									o.eq_customer_id.lang)" /> </td> -->
								<!-- <td class="text-right"> <span t-esc="get_qty(line.eq_qua_left, 
									o.eq_customer_id.lang)" /> <span t-field="line.eq_product_id.uom_id.name" 
									/> </td> -->
								<td class="text-right">
									<span
										t-esc="get_price(line.eq_sale_price, o.eq_customer_id.lang, o.eq_customer_id.property_product_pricelist.currency_id)" />
								</td>
								<td class="text-right">
									<span
										t-esc="get_price(line.eq_subtotal, o.eq_customer_id.lang, o.eq_customer_id.property_product_pricelist.currency_id)" />
								</td>
								<!-- <td><span t-field="line.eq_product_id.default_code"/></td><td><strong><span 
									t-field="line.eq_product_id.name"/></strong><br/><span t-field="line.name"/></td><td 
									class="text-right"><span t-field="line.eq_quantity"/></td><td class="text-right"><span 
									t-field="line.eq_product_uom.name"/></td><td class="text-right"><span t-field="line.eq_price_unit"/></td><td 
									class="text-right"><span t-field="line.eq_price_subtotal" t-field-options="{&quot;widget&quot;: 
									&quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/></td> -->
							</tr>
						</tbody>
					</table>
					<div class="row padding-fix">
						<div>
							<table class="table" rules="none" style=" border: 1px solid #999999;">
								<thead>
									<tr>
										<td class="text-right">
											<strong>Net sum</strong>
										</td>
										<td class="text-right" t-foreach="set([x.eq_tax_id for x in o.eq_pos_ids if has_tax_amount(o, x.eq_tax_id)])" t-as="tax_id">
											<strong>
												<span t-field="tax_id.name" />
											</strong>
										</td>
										<td class="text-right" t-if="o.eq_amount_total != o.eq_amount_untaxed">
											<strong>Total sum</strong>
										</td>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td class="text-right">
											<span
												t-esc="get_price(o.eq_amount_untaxed, o.eq_customer_id.lang, o.eq_customer_id.property_product_pricelist.currency_id)" />
										</td>
										<td class="text-right" t-foreach="set([x.eq_tax_id for x in o.eq_pos_ids if has_tax_amount(o, x.eq_tax_id)])" t-as="tax_id">
											<span
												t-esc="get_tax(o, tax_id, o.eq_customer_id.lang, o.eq_customer_id.property_product_pricelist.currency_id)" />
										</td>
										<td class="text-right" t-if="o.eq_amount_total != o.eq_amount_untaxed">
											<span
												t-esc="get_price(o.eq_amount_total, o.eq_customer_id.lang, o.eq_customer_id.property_product_pricelist.currency_id)" />
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<table class="col-xs-3" style="width:auto!important; max-width:50%;">
						<tbody>
							<tr t-if="o.eq_payment_term">
								<td style="padding-right:0.5cm; padding-bottom:0.3cm;">
									Term of payment:
								</td>
								<td>
									<span t-field="o.eq_payment_term" style="padding-right:10px; white-space: nowrap;" />
								</td>
							</tr>
							<tr t-if="o.eq_incoterm">
								<td style="padding-right:0.5cm; padding-bottom:0.3cm;">
									Incoterm:
								</td>
								<td>
									<span t-field="o.eq_incoterm.name" style="padding-right:10px; white-space: nowrap;" />
								</td>
							</tr>
							<tr t-if="o.eq_delivery_condition">
								<td style="padding-right:0.5cm; padding-bottom:0.3cm;">
									Delivery condition:
								</td>
								<td>
									<span t-field="o.eq_delivery_condition" style="padding-right:10px; white-space: nowrap;" />
								</td>
							</tr>
						</tbody>
						<tbody>
							<tr t-if="o.eq_invoice_address_id and o.eq_invoice_address_id != o.eq_customer_id">
								<td style="padding-right:0.5cm; font-weight:bold;" valign="top">
									Invoice address:
								</td>
								<td style="padding-bottom:0.3cm;">
									<div>
										<!-- wenn keine Person (Rechnungsadresse ist kein Kontakt) -->
										<div t-if="o.eq_invoice_address_id.type != 'contact'">
											<div t-field="o.eq_invoice_address_id.name" style="clear:left;" />
											<div t-if="o.eq_invoice_address_id.eq_name2" t-field="o.eq_invoice_address_id.eq_name2"
												style="clear:left;" />
											<div>
												<span t-field="o.eq_invoice_address_id.street" />
												<span t-if="o.eq_invoice_address_id.eq_house_no"
													t-field="o.eq_invoice_address_id.eq_house_no" style="margin-left:0.1cm;" />
											</div>
											<div t-if="o.eq_invoice_address_id.street2">
												<div t-field="o.eq_invoice_address_id.street2" />
											</div>
											<h>
												<h t-field="o.eq_invoice_address_id.zip" />
												<h>&#xa0;</h>
												<h t-field="o.eq_invoice_address_id.city" />
											</h>
											<div t-field="o.eq_invoice_address_id.country_id.name" />
										</div>
										<!-- Rechnungsadresse IST Kontakt -->
										<div t-if="o.eq_invoice_address_id.type == 'contact'">
											<div t-field="o.eq_invoice_address_id.parent_id.name"
												style="clear:left;" />
											<div t-if="o.eq_invoice_address_id.parent_id.eq_name2"
												t-field="o.eq_invoice_address_id.parent_id.eq_name2" style="clear:left;" />
											<span t-field="o.eq_invoice_address_id.title.name" />
											<span t-field="o.eq_invoice_address_id.eq_firstname"
												style="clear:left;" />
											<span t-field="o.eq_invoice_address_id.name" style="clear:left;" />
											<div>
												<span t-field="o.eq_invoice_address_id.street" />
												<span t-if="o.eq_invoice_address_id.eq_house_no"
													t-field="o.eq_invoice_address_id.eq_house_no" style="margin-left:0.1cm;" />
											</div>
											<div t-if="o.eq_invoice_address_id.street2">
												<div t-field="o.eq_invoice_address_id.street2" />
											</div>
											<h>
												<h t-field="o.eq_invoice_address_id.zip" />
												<h>&#xa0;</h>
												<h t-field="o.eq_invoice_address_id.city" />
											</h>
											<div t-field="o.eq_invoice_address_id.country_id.name" />
										</div>
									</div>
								</td>
							</tr>
							<tr t-if="o.eq_delivery_address_id and o.eq_delivery_address_id != o.eq_customer_id">
								<td style="padding-right:0.5cm; font-weight:bold;" valign="top">
									Shipping address:
								</td>
								<td style="padding-bottom:0.3cm;">
									<div>
										<div t-field="o.eq_delivery_address_id.name" style="clear:left;" />
										<div t-if="o.eq_delivery_address_id.eq_name2" t-field="o.eq_delivery_address_id.eq_name2"
											style="clear:left;" />
										<div>
											<span t-field="o.eq_delivery_address_id.street" />
											<span t-if="o.eq_delivery_address_id.eq_house_no"
												t-field="o.eq_delivery_address_id.eq_house_no" style="margin-left:0.1cm;" />
										</div>
										<div t-if="o.eq_delivery_address_id.street2">
											<div t-field="o.eq_delivery_address_id.street2" />
										</div>
										<h>
											<h t-field="o.eq_delivery_address_id.zip" />
											<h>&#xa0;</h>
											<h t-field="o.eq_delivery_address_id.city" />
										</h>
										<div t-field="o.eq_delivery_address_id.country_id.name" />
									</div>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="oe_structure" />
				</div>
			</t>
		</template>


		<template id="report_framework_agreement_document">
			<t t-call="report.html_container">
				<t t-foreach="doc_ids" t-as="doc_id">
					<t
						t-raw="translate_doc(doc_id, doc_model, 'eq_customer_id.lang', 'eq_framework_agreement.report_framework_agreement')" />
				</t>
			</t>
		</template>

	</data>
</openerp>
